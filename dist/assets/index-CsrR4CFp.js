import{j as e,S as q,B as R,D as T,A as z,d as G,_ as i,g as j}from"./index-CLg01Uug.js";import{L as b,d as D,r as d}from"./router-Bu5b4_LN.js";import{u as I,F as L}from"./FileUpload-Bw-bh0H5.js";import{o as B}from"./yup-Iz8uD2Uf.js";import{F as $,R as o,c as U,a as n,b as V,e as H}from"./RHFTextField-CR_vlHyP.js";import{u as y,P as Y}from"./index-DvUtVLca.js";import{R as _}from"./RHFTextArea-C3XfufY7.js";import{B as v}from"./ButtonLoading-DYyci1xw.js";import"./input-CLWGpTx2.js";import{C as J}from"./index-CBJ94bix.js";import{r as K}from"./resizeImage-nNayW6hE.js";import"./axios-DmypytPv.js";import"./select-BXPPKpPK.js";function W({children:h,open:m,setOpen:u,title:p,setEdit:g,isLoading:c}){const w=()=>{g(!1),u(f=>!f)};return e.jsxs("div",{children:[m&&e.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/50 dark:bg-gray-900/80"}),e.jsx("div",{id:"authentication-modal",tabIndex:-1,className:`${m?"flex":"hidden"} fixed left-0 right-0 top-0 z-50 h-[calc(100%-1rem)] max-h-full w-full items-center justify-center overflow-y-auto overflow-x-hidden md:inset-0`,children:e.jsx("div",{className:"relative max-h-full w-full max-w-md p-4",children:e.jsxs("div",{className:"relative rounded-lg bg-white shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-t border-b p-4 dark:border-gray-600 md:p-5",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:p??"Add/Edit"}),e.jsxs("button",{onClick:w,type:"button",className:"end-2.5 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[e.jsx("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-4 md:p-5",children:c?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(q,{})}):h})]})})})]})}function Q(){return e.jsxs("div",{className:"",children:[e.jsx("main",{className:"flex-1",children:e.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 bg-primary text-primary-foreground",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tighter sm:text-5xl",children:"Ready to Transform Your Gym Management?"}),e.jsx("p",{className:"mx-auto max-w-[600px] text-primary-foreground/90 md:text-xl",children:"Join GymSphere today and experience the difference efficient admin tools can make for your business."})]}),e.jsx(R,{className:"bg-white text-primary hover:bg-gray-100",children:"Start Your Free Trial"})]})})})}),e.jsx("footer",{className:"w-full py-6 bg-gray-100 dark:bg-gray-800",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 md:flex-row",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-6 w-6"}),e.jsx("span",{className:"font-bold",children:"GymSphere"})]}),e.jsx("p",{className:"text-center text-sm leading-loose text-gray-600 dark:text-gray-400 md:text-left",children:"Â© 2025GymSphere. All rights reserved."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(b,{className:"text-sm hover:underline underline-offset-4",to:"#",children:"Privacy Policy"}),e.jsx(b,{className:"text-sm hover:underline underline-offset-4",to:"#",children:"Terms of Service"})]})]})})})]})}function X(){return e.jsx("div",{className:"",children:e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-14 items-center",children:[e.jsx(z,{className:"w-12 h-12 border  dark:border-gray-700",children:e.jsx(G,{src:"/Gym.png",alt:"@shadcn"})}),e.jsx("span",{className:"font-bold ml-2",children:"GymSphere"}),e.jsx("nav",{className:"ml-auto flex gap-4 sm:gap-6",children:e.jsx(b,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/gym-app/registration-form",children:"APK"})})]})})})}const Z=U().shape({fullName:n().required("Name is required"),gymName:n().required("Gym Name is required"),address:n().required("Address is required"),mobile:n().required("Mobile is required"),password:n().required("Password is required"),cPassword:n().oneOf([V("password")],"Passwords must match").required("Enter Confirm Password"),email:n().required().email().label("Email"),imageUrl:H().nullable()});function he(){const h=D(),m=y({}),u=y({}),p=y({}),[g,c]=d.useState(!1),[w,f]=d.useState(!1),[N,k]=d.useState(""),[l,P]=d.useState(null),[O,E]=d.useState(null),t=I({defaultValues:{fullName:"",password:"",address:"",mobile:"",gymName:"",email:"",imageUrl:null},resolver:B(Z)}),S=async()=>{J("Are you sure?","Do you want to add this Owner?",async()=>{A()})},F=async()=>{var r;if(((r=l==null?void 0:l[0])==null?void 0:r.size)>20*1024*1024)return i.error("File size is too large");const a=l==null?void 0:l[0];if(!a)return;const s=await K(a),x=new File([s],a==null?void 0:a.name,{type:a==null?void 0:a.type});E(x)};d.useEffect(()=>{l&&F()},[l]);const A=async()=>{var a;try{const s=await u.mutateAsync({api:j.sendOtp,data:{email:t.watch("email")}});(a=s==null?void 0:s.data)!=null&&a.success?(i.success("OTP sent to your email"),c(!0)):i.error("Error sending OTP")}catch{}},C=async()=>{var a,s,x;try{const r=await p.mutateAsync({api:j.verifyEmailOtp,data:{otp:N,email:t.watch("email")}});(a=r==null?void 0:r.data)!=null&&a.success?(i.success((s=r==null?void 0:r.data)==null?void 0:s.message),c(!1),M()):i.error((x=r==null?void 0:r.data)==null?void 0:x.message)}catch{}},M=async()=>{const a=new FormData;a.append("fullName",t.watch("fullName")),a.append("gymName",t.watch("gymName")),a.append("password",t.watch("password")),a.append("address",t.watch("address")),a.append("mobile",t.watch("mobile")),a.append("email",t.watch("email")??""),a.append("imageUrl",O);try{const s=await m.mutateAsync({api:j.createOwner,data:a});s.data.success?(i.success(s.data.message),h("/gym-app/auth/login")):i.error(s.data.message)}catch{i.error("Something went wrong")}};return e.jsxs(e.Fragment,{children:[e.jsx(W,{open:g,setOpen:c,title:"OTP Send to your Registered Email",setEdit:f,children:e.jsxs("div",{style:{zIndex:1e5},className:"",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"After verifying the OTP, you can proceed with the registration."}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Enter OTP"}),e.jsxs("form",{onSubmit:a=>a.preventDefault(),children:[e.jsx("input",{value:N,onChange:a=>k(a.target.value),type:"text",placeholder:"Enter OTP",className:"input-field w-full border border-gray-300 rounded-md p-2"}),e.jsx("div",{children:e.jsx(v,{type:"button",onClick:C,className:"w-full rounded-xl py-5 px-4 mt-2 shadow-none",variant:"outline",children:"Verify & Register"})})]})]})}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"object-cover bg-center  items-center justify-center   z-0",style:{backgroundImage:"url('/bgImg.jpg')"},children:[e.jsx(X,{}),e.jsxs(Y,{title:"Registration Form ",className:"border mx-auto md:w-1/2 mt-10 mb-10 z-50 relative  shadow-md rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mt-4 ",children:e.jsx("h1",{className:"text-base font-semibold text-muted-foreground",children:"Registration Form"})}),e.jsx("div",{className:"border-t border-secondary mt-3"}),e.jsxs($,{methods:t,onSubmit:t.handleSubmit(S),children:[e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsx(o,{name:"fullName",label:"Owner Name",placeholder:"Enter Owner Name"})}),e.jsx("div",{children:e.jsx(o,{name:"email",label:"Email",placeholder:"Enter Email"})}),e.jsx("div",{children:e.jsx(o,{name:"mobile",label:"Mobile",placeholder:"Enter Mobile",inputValidation:["mobile","number"]})}),e.jsx("div",{children:e.jsx(o,{name:"gymName",label:"Gym Name",placeholder:"Enter Gym Name"})}),e.jsx("div",{children:e.jsx(o,{name:"password",label:"Password",placeholder:"Enter Password"})}),e.jsx("div",{children:e.jsx(o,{name:"cPassword",label:"Confirm Password",placeholder:"Enter Confirm Password"})}),e.jsx("div",{className:"col-span-2",children:e.jsx(L,{onChangeValue:P,files:l,maxFiles:1,maxSize:20*1024*1024,accept:"image/*",multiple:!1})}),e.jsx("div",{className:"col-span-2",children:e.jsx(_,{name:"address",label:"Address",placeholder:"Enter Address"})})]})}),e.jsx("div",{className:"mt-8 flex justify-center mb-4",children:e.jsx(v,{type:"submit",className:"bg-primary text-white",isLoading:m.isPending,children:"Registration"})})]})]}),e.jsx(Q,{})]})})]})}export{he as default};
