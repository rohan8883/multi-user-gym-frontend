import{j as e,S as q,B as R,D,A as G,d as z,_ as i,g as j}from"./index-FoEiWhJt.js";import{L as N,d as I,r as n}from"./router-Bu5b4_LN.js";import{u as L,F as B}from"./FileUpload-BZIkrACV.js";import{o as U}from"./yup-CxhGsg0C.js";import{F as V,R as c,c as $,a as d,e as H}from"./RHFTextField-CIh0Rgo6.js";import{u as b,P as Y}from"./index-BNz-zWLg.js";import{R as _}from"./RHFTextArea-pM7O-pQB.js";import{B as k}from"./ButtonLoading-DgkKsGmC.js";import"./input-CzR0shsg.js";import{C as J}from"./index-CH8Zkf6c.js";import{r as K}from"./resizeImage-nNayW6hE.js";import"./axios-DmypytPv.js";import"./select-DIknmUTk.js";function W({children:h,open:o,setOpen:u,title:p,setEdit:f,isLoading:m}){const v=()=>{f(!1),u(g=>!g)};return e.jsxs("div",{children:[o&&e.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/50 dark:bg-gray-900/80"}),e.jsx("div",{id:"authentication-modal",tabIndex:-1,className:`${o?"flex":"hidden"} fixed left-0 right-0 top-0 z-50 h-[calc(100%-1rem)] max-h-full w-full items-center justify-center overflow-y-auto overflow-x-hidden md:inset-0`,children:e.jsx("div",{className:"relative max-h-full w-full max-w-md p-4",children:e.jsxs("div",{className:"relative rounded-lg bg-white shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-t border-b p-4 dark:border-gray-600 md:p-5",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:p??"Add/Edit"}),e.jsxs("button",{onClick:v,type:"button",className:"end-2.5 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[e.jsx("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-4 md:p-5",children:m?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(q,{})}):h})]})})})]})}function Q(){return e.jsxs("div",{className:"",children:[e.jsx("main",{className:"flex-1",children:e.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 bg-primary text-primary-foreground",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tighter sm:text-5xl",children:"Ready to Transform Your Gym Management?"}),e.jsx("p",{className:"mx-auto max-w-[600px] text-primary-foreground/90 md:text-xl",children:"Join GymSphere today and experience the difference efficient admin tools can make for your business."})]}),e.jsx(R,{className:"bg-white text-primary hover:bg-gray-100",children:"Start Your Free Trial"})]})})})}),e.jsx("footer",{className:"w-full py-6 bg-gray-100 dark:bg-gray-800",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 md:flex-row",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"h-6 w-6"}),e.jsx("span",{className:"font-bold",children:"GymSphere"})]}),e.jsx("p",{className:"text-center text-sm leading-loose text-gray-600 dark:text-gray-400 md:text-left",children:"Â© 2025GymSphere. All rights reserved."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(N,{className:"text-sm hover:underline underline-offset-4",to:"#",children:"Privacy Policy"}),e.jsx(N,{className:"text-sm hover:underline underline-offset-4",to:"#",children:"Terms of Service"})]})]})})})]})}function X(){return e.jsx("div",{className:"",children:e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-14 items-center",children:[e.jsx(G,{className:"w-12 h-12 border  dark:border-gray-700",children:e.jsx(z,{src:"/Gym.png",alt:"@shadcn"})}),e.jsx("span",{className:"font-bold ml-2",children:"GymSphere"}),e.jsx("nav",{className:"ml-auto flex gap-4 sm:gap-6",children:e.jsx(N,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/gym-app/registration-form",children:"APK"})})]})})})}const Z=$().shape({fullName:d().required("Name is required"),gymName:d().required("Gym Name is required"),address:d().required("Address is required"),mobile:d().required("Mobile is required"),password:d().required("Password is required"),email:d().required().email().label("Email"),imageUrl:H().nullable()});function he(){const h=I(),o=b({}),u=b({}),p=b({}),[f,m]=n.useState(!1),[v,g]=n.useState(!1),[w,O]=n.useState(""),[y,S]=n.useState(!1),[t,F]=n.useState(null),[E,P]=n.useState(null),x=L({defaultValues:{fullName:"",password:"",address:"",mobile:"",gymName:"",email:"",imageUrl:null},resolver:U(Z)}),A=async s=>{const a=new FormData;a.append("fullName",s.fullName),a.append("gymName",s.gymName),a.append("password",s.password),a.append("address",s.address),a.append("mobile",s.mobile),a.append("email",(s==null?void 0:s.email)??""),a.append("imageUrl",E),J("Are you sure?","Do you want to add this Owner?",async()=>{try{const l=await o.mutateAsync({api:j.createOwner,data:a});l.data.success?(i.success(l.data.message),h("/gym-app/auth/login")):i.error(l.data.message)}catch{i.error("Something went wrong")}})},C=async()=>{var r;if(((r=t==null?void 0:t[0])==null?void 0:r.size)>20*1024*1024)return i.error("File size is too large");const s=t==null?void 0:t[0];if(!s)return;const a=await K(s),l=new File([a],s==null?void 0:s.name,{type:s==null?void 0:s.type});P(l)};n.useEffect(()=>{t&&C()},[t]);const M=async()=>{var s;try{const a=await u.mutateAsync({api:j.sendOtp,data:{email:x.watch("email")}});(s=a==null?void 0:a.data)!=null&&s.success?(i.success("OTP sent to your email"),m(!0)):i.error("Error sending OTP")}catch{}},T=async()=>{var s,a,l;try{const r=await p.mutateAsync({api:j.verifyEmailOtp,data:{otp:w,email:x.watch("email")}});(s=r==null?void 0:r.data)!=null&&s.success?(i.success((a=r==null?void 0:r.data)==null?void 0:a.message),m(!1)):i.error((l=r==null?void 0:r.data)==null?void 0:l.message)}catch{}};return e.jsxs(e.Fragment,{children:[e.jsx(W,{open:f,setOpen:m,title:"OTP Send to your Registered Email",setEdit:g,children:e.jsxs("div",{style:{zIndex:1e5},className:"",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"After verifying the OTP, you can proceed with the registration process."}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Enter OTP"}),e.jsxs("form",{onSubmit:s=>s.preventDefault(),children:[e.jsx("input",{value:w,onChange:s=>O(s.target.value),type:"text",placeholder:"Enter OTP",className:"input-field w-full border border-gray-300 rounded-md p-2"}),e.jsx("div",{children:e.jsx(k,{type:"button",onClick:T,className:"w-full rounded-xl py-5 px-4 mt-2 shadow-none",variant:"outline",children:"Verify OTP"})})]})]})}),e.jsxs("div",{className:"space-y-3 min-h-screen bg-gradient-to-b from-blue-50 to-blue-100",children:[e.jsx(X,{}),e.jsxs(Y,{title:"Registration Form ",className:"border mx-auto md:w-1/2 bg-white shadow-md rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mt-4 ",children:e.jsx("h1",{className:"text-base font-semibold text-muted-foreground",children:"Registration Form"})}),e.jsx("div",{className:"border-t border-secondary mt-3"}),e.jsxs(V,{methods:x,onSubmit:x.handleSubmit(A),children:[e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsx(c,{name:"fullName",label:"Owner Name",placeholder:"Enter Owner Name"})}),e.jsx("div",{children:e.jsx(c,{name:"email",label:"Email",placeholder:"Enter Email"})}),e.jsx("div",{children:e.jsx(c,{name:"mobile",label:"Mobile",placeholder:"Enter Mobile",inputValidation:["mobile","number"]})}),e.jsx("div",{children:e.jsx(c,{name:"gymName",label:"Gym Name",placeholder:"Enter Gym Name"})}),e.jsx("div",{children:e.jsx(c,{name:"password",label:"Password",placeholder:"Enter Password"})}),e.jsx("div",{className:"col-span-2",children:e.jsx(B,{onChangeValue:F,files:t,maxFiles:1,maxSize:20*1024*1024,accept:"image/*",multiple:!1})}),e.jsx("div",{className:"col-span-2",children:e.jsx(_,{name:"address",label:"Address",placeholder:"Enter Address"})})]})}),e.jsxs("div",{className:"mt-4 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"confirmDetails",checked:y,onChange:s=>{S(s.target.checked),!y&&M()},className:"mr-2"}),e.jsx("label",{htmlFor:"confirmDetails",className:"text-sm text-gray-600",children:"I confirm all details are correct."})]}),y==!1?e.jsx("div",{className:"flex items-center justify-center  ",children:e.jsx("div",{className:"px-4 py-1 text-base border rounded-md bg-gray-200 cursor-pointer",children:"Registration"})}):e.jsx("div",{className:"mt-8 flex justify-center mb-4",children:e.jsx(k,{type:"submit",className:"bg-primary text-white",isLoading:o.isPending,children:"Registration"})})]})]}),e.jsx(Q,{})]})]})}export{he as default};
