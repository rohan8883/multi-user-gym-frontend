import{j as e,S as q,B as R,D as T,A as G,d as z,_ as i,g as y}from"./index-5LZ_nlU9.js";import{L as b,d as D,r as n}from"./router-Bu5b4_LN.js";import{u as L,F as B}from"./FileUpload-B8QEeBcg.js";import{o as I}from"./yup-JIk-gZdR.js";import{F as U,R as c,c as V,a as d,e as $}from"./RHFTextField-BDc5GpPO.js";import{u as j,P as H}from"./index-4gDiAr6t.js";import{R as Y}from"./RHFTextArea-CPKwknZ8.js";import{B as w}from"./ButtonLoading-BOLt1f3D.js";import"./input-5M_0HrzI.js";import{C as _}from"./index-Dkup9m_i.js";import{r as J}from"./resizeImage-nNayW6hE.js";import"./axios-DmypytPv.js";import"./select-UqvSj_yK.js";function K({children:h,open:o,setOpen:u,title:p,setEdit:g,isLoading:m}){const N=()=>{g(!1),u(f=>!f)};return e.jsxs("div",{children:[o&&e.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/50 dark:bg-gray-900/80"}),e.jsx("div",{id:"authentication-modal",tabIndex:-1,className:`${o?"flex":"hidden"} fixed left-0 right-0 top-0 z-50 h-[calc(100%-1rem)] max-h-full w-full items-center justify-center overflow-y-auto overflow-x-hidden md:inset-0`,children:e.jsx("div",{className:"relative max-h-full w-full max-w-md p-4",children:e.jsxs("div",{className:"relative rounded-lg bg-white shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-t border-b p-4 dark:border-gray-600 md:p-5",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:p??"Add/Edit"}),e.jsxs("button",{onClick:N,type:"button",className:"end-2.5 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[e.jsx("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-4 md:p-5",children:m?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(q,{})}):h})]})})})]})}function W(){return e.jsxs("div",{className:"",children:[e.jsx("main",{className:"flex-1",children:e.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 bg-primary text-primary-foreground",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tighter sm:text-5xl",children:"Ready to Transform Your Gym Management?"}),e.jsx("p",{className:"mx-auto max-w-[600px] text-primary-foreground/90 md:text-xl",children:"Join GymSphere today and experience the difference efficient admin tools can make for your business."})]}),e.jsx(R,{className:"bg-white text-primary hover:bg-gray-100",children:"Start Your Free Trial"})]})})})}),e.jsx("footer",{className:"w-full py-6 bg-gray-100 dark:bg-gray-800",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 md:flex-row",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-6 w-6"}),e.jsx("span",{className:"font-bold",children:"GymSphere"})]}),e.jsx("p",{className:"text-center text-sm leading-loose text-gray-600 dark:text-gray-400 md:text-left",children:"Â© 2025GymSphere. All rights reserved."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(b,{className:"text-sm hover:underline underline-offset-4",to:"#",children:"Privacy Policy"}),e.jsx(b,{className:"text-sm hover:underline underline-offset-4",to:"#",children:"Terms of Service"})]})]})})})]})}function Q(){return e.jsx("div",{className:"",children:e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-14 items-center",children:[e.jsx(G,{className:"w-12 h-12 border  dark:border-gray-700",children:e.jsx(z,{src:"/Gym.png",alt:"@shadcn"})}),e.jsx("span",{className:"font-bold ml-2",children:"GymSphere"}),e.jsx("nav",{className:"ml-auto flex gap-4 sm:gap-6",children:e.jsx(b,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/gym-app/registration-form",children:"APK"})})]})})})}const X=V().shape({fullName:d().required("Name is required"),gymName:d().required("Gym Name is required"),address:d().required("Address is required"),mobile:d().required("Mobile is required"),password:d().required("Password is required"),email:d().required().email().label("Email"),imageUrl:$().nullable()});function xe(){const h=D(),o=j({}),u=j({}),p=j({}),[g,m]=n.useState(!1),[N,f]=n.useState(!1),[v,k]=n.useState(""),[l,O]=n.useState(null),[S,E]=n.useState(null),t=L({defaultValues:{fullName:"",password:"",address:"",mobile:"",gymName:"",email:"",imageUrl:null},resolver:I(X)}),F=async()=>{_("Are you sure?","Do you want to add this Owner?",async()=>{A()})},P=async()=>{var r;if(((r=l==null?void 0:l[0])==null?void 0:r.size)>20*1024*1024)return i.error("File size is too large");const a=l==null?void 0:l[0];if(!a)return;const s=await J(a),x=new File([s],a==null?void 0:a.name,{type:a==null?void 0:a.type});E(x)};n.useEffect(()=>{l&&P()},[l]);const A=async()=>{var a;try{const s=await u.mutateAsync({api:y.sendOtp,data:{email:t.watch("email")}});(a=s==null?void 0:s.data)!=null&&a.success?(i.success("OTP sent to your email"),m(!0)):i.error("Error sending OTP")}catch{}},M=async()=>{var a,s,x;try{const r=await p.mutateAsync({api:y.verifyEmailOtp,data:{otp:v,email:t.watch("email")}});(a=r==null?void 0:r.data)!=null&&a.success?(i.success((s=r==null?void 0:r.data)==null?void 0:s.message),m(!1),C()):i.error((x=r==null?void 0:r.data)==null?void 0:x.message)}catch{}},C=async()=>{const a=new FormData;a.append("fullName",t.watch("fullName")),a.append("gymName",t.watch("gymName")),a.append("password",t.watch("password")),a.append("address",t.watch("address")),a.append("mobile",t.watch("mobile")),a.append("email",t.watch("email")??""),a.append("imageUrl",S);try{const s=await o.mutateAsync({api:y.createOwner,data:a});s.data.success?(i.success(s.data.message),h("/gym-app/auth/login")):i.error(s.data.message)}catch{i.error("Something went wrong")}};return e.jsxs(e.Fragment,{children:[e.jsx(K,{open:g,setOpen:m,title:"OTP Send to your Registered Email",setEdit:f,children:e.jsxs("div",{style:{zIndex:1e5},className:"",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"After verifying the OTP, you can proceed with the registration."}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Enter OTP"}),e.jsxs("form",{onSubmit:a=>a.preventDefault(),children:[e.jsx("input",{value:v,onChange:a=>k(a.target.value),type:"text",placeholder:"Enter OTP",className:"input-field w-full border border-gray-300 rounded-md p-2"}),e.jsx("div",{children:e.jsx(w,{type:"button",onClick:M,className:"w-full rounded-xl py-5 px-4 mt-2 shadow-none",variant:"outline",children:"Verify & Register"})})]})]})}),e.jsxs("div",{className:"space-y-3 min-h-screen bg-gradient-to-b from-blue-50 to-blue-100",children:[e.jsx(Q,{}),e.jsxs(H,{title:"Registration Form ",className:"border mx-auto md:w-1/2 bg-white shadow-md rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mt-4 ",children:e.jsx("h1",{className:"text-base font-semibold text-muted-foreground",children:"Registration Form"})}),e.jsx("div",{className:"border-t border-secondary mt-3"}),e.jsxs(U,{methods:t,onSubmit:t.handleSubmit(F),children:[e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsx(c,{name:"fullName",label:"Owner Name",placeholder:"Enter Owner Name"})}),e.jsx("div",{children:e.jsx(c,{name:"email",label:"Email",placeholder:"Enter Email"})}),e.jsx("div",{children:e.jsx(c,{name:"mobile",label:"Mobile",placeholder:"Enter Mobile",inputValidation:["mobile","number"]})}),e.jsx("div",{children:e.jsx(c,{name:"gymName",label:"Gym Name",placeholder:"Enter Gym Name"})}),e.jsx("div",{children:e.jsx(c,{name:"password",label:"Password",placeholder:"Enter Password"})}),e.jsx("div",{className:"col-span-2",children:e.jsx(B,{onChangeValue:O,files:l,maxFiles:1,maxSize:20*1024*1024,accept:"image/*",multiple:!1})}),e.jsx("div",{className:"col-span-2",children:e.jsx(Y,{name:"address",label:"Address",placeholder:"Enter Address"})})]})}),e.jsx("div",{className:"mt-8 flex justify-center mb-4",children:e.jsx(w,{type:"submit",className:"bg-primary text-white",isLoading:o.isPending,children:"Registration"})})]})]}),e.jsx(W,{})]})]})}export{xe as default};
