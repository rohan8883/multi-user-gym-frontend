import{g as k}from"./router-Bu5b4_LN.js";var I={exports:{}};(()=>{var v={d:(r,h)=>{for(var l in h)v.o(h,l)&&!v.o(r,l)&&Object.defineProperty(r,l,{enumerable:!0,get:h[l]})},o:(r,h)=>Object.prototype.hasOwnProperty.call(r,h),r:r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})}},b={};function i(r,h){for(var l=0;l<h.length;l++){var e=h[l];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}v.r(b),v.d(b,{default:()=>R});var w=function(){function r(){(function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r)}var h,l;return h=r,l=[{key:"changeHeightWidth",value:function(e,a,t,o,s,g){return t>o&&(e=Math.round(e*o/t),t=o),e>a&&(t=Math.round(t*a/e),e=a),s&&t<s&&(e=Math.round(e*s/t),t=s),g&&e<g&&(t=Math.round(t*g/e),e=g),{height:e,width:t}}},{key:"resizeAndRotateImage",value:function(e,a,t,o,s){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,n=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,y=d/100,c=document.createElement("canvas"),p=e.width,f=e.height,m=this.changeHeightWidth(f,t,p,a,o,s);!n||n!==90&&n!==270?(c.width=m.width,c.height=m.height):(c.width=m.height,c.height=m.width),p=m.width,f=m.height;var u=c.getContext("2d");return u.fillStyle="rgba(0, 0, 0, 0)",u.fillRect(0,0,p,f),u.imageSmoothingEnabled&&u.imageSmoothingQuality&&(u.imageSmoothingQuality="high"),n&&(u.rotate(n*Math.PI/180),n===90?u.translate(0,-c.width):n===180?u.translate(-c.width,-c.height):n===270?u.translate(-c.height,0):n!==0&&n!==360||u.translate(0,0)),u.drawImage(e,0,0,p,f),c.toDataURL("image/".concat(g),y)}},{key:"b64toByteArrays",value:function(e,a){for(var t=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),o=[],s=0;s<t.length;s+=512){for(var g=t.slice(s,s+512),d=new Array(g.length),n=0;n<g.length;n++)d[n]=g.charCodeAt(n);var y=new Uint8Array(d);o.push(y)}return o}},{key:"b64toBlob",value:function(e,a){var t=this.b64toByteArrays(e,a);return new Blob(t,{type:a,lastModified:new Date})}},{key:"b64toFile",value:function(e,a,t){var o=this.b64toByteArrays(e,t);return new File(o,a,{type:t,lastModified:new Date})}},{key:"createResizedImage",value:function(e,a,t,o,s,g,d){var n=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",y=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,p=new FileReader;if(!e)throw Error("File Not Found!");if(e.type&&!e.type.includes("image"))throw Error("File Is NOT Image!");p.readAsDataURL(e),p.onload=function(){var f=new Image;f.src=p.result,f.onload=function(){var m=r.resizeAndRotateImage(f,a,t,y,c,o,s,g),u="image/".concat(o);switch(n){case"blob":var j=r.b64toBlob(m,u);d(j);break;case"base64":d(m);break;case"file":var A=e.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(o.toString()),F=r.b64toFile(m,A,u);d(F);break;default:d(m)}}},p.onerror=function(f){throw Error(f)}}}],l&&i(h,l),r}();const R={imageFileResizer:function(r,h,l,e,a,t,o,s,g,d){return w.createResizedImage(r,h,l,e,a,t,o,s,g,d)}};I.exports=b})();var E=I.exports;const M=k(E),x=v=>{const b=v.split(","),i=b[0].indexOf("base64")>=0?atob(b[1]):decodeURI(b[1]),w=b[0].split(":")[1].split(";")[0],R=new Uint8Array(i==null?void 0:i.length);for(let r=0;r<(i==null?void 0:i.length);r++)R[r]=i==null?void 0:i.charCodeAt(r);return new Blob([R],{type:w})},B=async v=>new Promise(i=>{M.imageFileResizer(v,500,500,"JPEG",60,0,w=>{i(w)},"base64")}).then(i=>x(i));export{B as r};
