import{j as s,a as h,_ as c}from"./index-5LZ_nlU9.js";import{u as p,P as g}from"./index-4gDiAr6t.js";import{u as x,L as o}from"./FileUpload-B8QEeBcg.js";import{c as P,a as t,b as f,F as y,R as d}from"./RHFTextField-BDc5GpPO.js";import{o as j}from"./yup-JIk-gZdR.js";import{B as b}from"./ButtonLoading-BOLt1f3D.js";import{d as N}from"./router-Bu5b4_LN.js";import"./input-5M_0HrzI.js";import{d as v}from"./card-CYCGUlpe.js";import"./axios-DmypytPv.js";import"./select-UqvSj_yK.js";const C=P().shape({currentPassword:t().required("Current Password is required"),newPassword:t().required("New Password is required"),confirmPassword:t().oneOf([f("newPassword")],"Passwords must match").required("Confirm Password is required")}),O=()=>{const l=p({}),w=N(),a=x({resolver:j(C)}),u=async e=>{var i,n,m;try{const r=await l.mutateAsync({api:h.adminChangePassword,data:{currentPassword:e.currentPassword,newPassword:e.newPassword,confirmPassword:e.confirmPassword}});(i=r.data)!=null&&i.success?(c.success((n=r==null?void 0:r.data)==null?void 0:n.message),w("/gym-app/auth/login")):c.error((m=r==null?void 0:r.data)==null?void 0:m.message),a.reset({currentPassword:"",newPassword:"",confirmPassword:""})}catch{}};return s.jsx(g,{title:"Change Password",className:"bg-gray-100",children:s.jsx("section",{className:"relative flex w-full justify-center items-center   dark:bg-gray-900",children:s.jsxs("div",{className:"w-full max-w-md px-4 py-8 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[s.jsx("h1",{className:"text-2xl text-center font-semibold text-gray-800 capitalize dark:text-white mb-2",children:s.jsx("span",{className:"",children:"Change Password"})}),s.jsx(v,{className:"px-2 text-center text-sm text-gray-500 dark:text-gray-400",children:"Easily change your password"}),s.jsx(y,{methods:a,onSubmit:a.handleSubmit(u),children:s.jsxs("div",{className:"space-y-6 mt-6",children:[s.jsxs("div",{children:[s.jsx(o,{htmlFor:"currentPassword",children:"Old Password"}),s.jsx(d,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"currentPassword",type:"password",placeholder:"Enter old password"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"newPassword",children:"New Password"}),s.jsx(d,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"newPassword",type:"password",placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(d,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"confirmPassword",type:"password",placeholder:"Confirm new password"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(b,{isLoading:a.formState.isSubmitting,type:"submit",className:"w-full bg-primary text-white py-2 rounded-md ",children:"Submit"})})]})})]})})})};export{O as default};
