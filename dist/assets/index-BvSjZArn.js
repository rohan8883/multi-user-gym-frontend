import{g as B,j as e,S as F,H}from"./index-CJyZ3len.js";import{C as $}from"./card-INbucF__.js";import{a as E,P as z}from"./index-xAMIIVWc.js";import{e as Y}from"./router-Bu5b4_LN.js";import{C as q,a as J}from"./clock-U7CNPAhC.js";import{S as K,P as O}from"./share-CXzxhBOf.js";import"./axios-DmypytPv.js";const D=()=>{var i,l,d,r,m,c,x,o,h,j,p,g,y,N,f,u,b,v,w,P,A,I,C,R,S,M,L;const{id:a}=Y(),n=t=>new Date(t).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),s=E({api:`${B.getReceiptById}/${a}`,key:"get-receipt-by-id",value:[a],options:{enabled:!!a}});if(s.isLoading)return e.jsx(z,{title:"Payment Receipt",children:e.jsx("div",{className:"h-[650px] flex items-center justify-center",children:e.jsx(F,{})})});const G=()=>{var k;const t=document.body.innerHTML,T=(k=document.getElementById("printable-section"))==null?void 0:k.innerHTML;T&&(document.body.innerHTML=T,window.print(),document.body.innerHTML=t,window.location.reload())};return e.jsxs(z,{title:"Payment Receipt",className:"bg-gray-100",children:[e.jsx("div",{className:" mt-4 relative",children:e.jsxs($,{className:"max-w-md mx-auto bg-white relative z-10",id:"printable-section",children:[e.jsxs("div",{className:"bg-primary text-white p-4 rounded-t-lg flex items-center justify-between",children:[e.jsx("img",{src:"/logoImg.png",alt:"Gym Logo",className:"absolute rounded-xl opacity-10 mt-2 h-44 w-auto top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),e.jsxs("div",{className:"text-center  z-10 flex-1",children:[e.jsx("h1",{className:"text-lg font-bold",children:"Fitness Firsts GYM"}),e.jsx("p",{className:"text-sm opacity-90",children:"Payment Receipt"})]})]}),e.jsxs("div",{className:"flex justify-between gap-2 p-2 border-b",children:[e.jsx("h1",{className:"text-sm font-semibold w-44 truncate text-gray-600",children:(d=(l=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:l.memberId)==null?void 0:d.memberName}),e.jsx("div",{className:"flex items-center gap-1 text-sm",children:e.jsx("span",{className:"font-semibold text-gray-600",children:(c=(m=(r=s==null?void 0:s.data)==null?void 0:r.data)==null?void 0:m.memberId)==null?void 0:c.generatedId})})]}),e.jsx("div",{}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Receipt No"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:(o=(x=s==null?void 0:s.data)==null?void 0:x.data)==null?void 0:o.receiptNo})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-600",children:"Date"}),e.jsx("p",{className:"font-semibold text-gray-600",children:n(String((j=(h=s==null?void 0:s.data)==null?void 0:h.data)==null?void 0:j.receiptDate))})]})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Mobile No."}),e.jsx("p",{className:"font-semibold text-gray-600",children:(y=(g=(p=s==null?void 0:s.data)==null?void 0:p.data)==null?void 0:g.memberId)==null?void 0:y.mobile})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold ",children:"Paid"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-600",children:"Subscription Details"}),e.jsx("div",{className:"space-y-3",children:(u=(f=(N=s==null?void 0:s.data)==null?void 0:N.data)==null?void 0:f.subscriptionId)==null?void 0:u.map(t=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-1",children:"Plan"}),e.jsx("p",{className:"font-semibold text-xs text-gray-600",children:"Paid Amount"}),e.jsx("p",{className:"font-semibold text-xs text-gray-600",children:"Due Amount"}),e.jsx("p",{className:"font-semibold text-xs",children:"Total Amount"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.month," Month"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-1 text-gray-600",children:t.planName}),e.jsxs("p",{className:"font-semibold text-xs text-gray-600",children:["₹",t.paidAmount]}),e.jsxs("p",{className:"font-semibold text-xs text-gray-600",children:["₹",t.dueAmount]}),e.jsxs("p",{className:"font-semibold text-xs text-gray-600",children:["₹",t.amount]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(J,{className:"h-3 w-3"}),e.jsxs("span",{children:[n(t.startDate)," - ",n(t.endDate)]})]})]},t.subscriptionId))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-600",children:"Payment Summary"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Amount Due"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["₹",(v=(b=s==null?void 0:s.data)==null?void 0:b.data)==null?void 0:v.totalDueAmount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Amount Paid"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["₹",(P=(w=s==null?void 0:s.data)==null?void 0:w.data)==null?void 0:P.totalPaidAmount]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between text-gray-600",children:[e.jsx("p",{className:"font-semibold",children:"Total Amount"}),e.jsxs("p",{className:"font-semibold",children:["₹",((I=(A=s==null?void 0:s.data)==null?void 0:A.data)==null?void 0:I.totalDueAmount)+((R=(C=s==null?void 0:s.data)==null?void 0:C.data)==null?void 0:R.totalPaidAmount)]})]})]})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 space-y-1 pt-4 border-t",children:[e.jsxs("p",{children:["Member ID: ",(L=(M=(S=s==null?void 0:s.data)==null?void 0:S.data)==null?void 0:M.memberId)==null?void 0:L.generatedId]}),e.jsx("p",{className:"font-medium",children:"Thank you for choosing Fitness firsts Gym"})]})]})]})}),e.jsxs("div",{className:"flex justify-end gap-2 p-2 border-b",children:[e.jsx(H,{variant:"ghost",size:"sm",className:"text-blue-600",onClick:()=>{navigator.share&&navigator.share({title:"Payment Receipt",text:"Here is your payment receipt",url:`/gym-app/guest-payment-receipt/${a}`}).then(()=>{}).catch(t=>{})},children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx(H,{variant:"ghost",size:"sm",className:"text-blue-600",onClick:()=>G(),children:e.jsx(O,{className:"h-4 w-4"})})]})]})};export{D as default};
