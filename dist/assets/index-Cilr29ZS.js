import{g as J,j as e,S as K,B as U}from"./index-5LZ_nlU9.js";import{C as O}from"./card-CYCGUlpe.js";import{a as Q,P as q}from"./index-4gDiAr6t.js";import{e as V}from"./router-Bu5b4_LN.js";import{C as W}from"./circle-check-DPBQ7eEr.js";import{C as X}from"./clock-UpkuLT-8.js";import{S as Y,P as Z}from"./share-DoYYmC2G.js";import"./axios-DmypytPv.js";const ie=()=>{var n,i,d,m,r,c,x,o,h,j,y,g,N,p,u,f,b,v,w,P,A,I,C,R,S,L,M,T,k,H,z,B,$;const{id:a}=V(),l=t=>new Date(t).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),s=Q({api:`${J.getReceiptById}/${a}`,key:"get-receipt-by-id",value:[a],options:{enabled:!!a}});if(s.isLoading)return e.jsx(q,{title:"Payment Receipt",children:e.jsx("div",{className:"h-[650px] flex items-center justify-center",children:e.jsx(K,{})})});const F=()=>{var G;const t=document.body.innerHTML,E=(G=document.getElementById("printable-section"))==null?void 0:G.innerHTML;E&&(document.body.innerHTML=E,window.print(),document.body.innerHTML=t,window.location.reload())};return e.jsxs(q,{title:"Payment Receipt",className:"bg-gray-100",children:[e.jsx("div",{className:" mt-4 relative",children:e.jsxs(O,{className:"max-w-md mx-auto bg-white relative z-10",id:"printable-section",children:[e.jsxs("div",{className:"bg-primary text-white p-4 rounded-t-lg flex items-center justify-between",children:[e.jsx("img",{src:(i=(n=s==null?void 0:s.data)==null?void 0:n.userDetails)==null?void 0:i.fullImgUrl,alt:"Gym Logo",className:"absolute rounded-xl opacity-10 mt-2 h-44 w-auto top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),e.jsxs("div",{className:"text-center  z-10 flex-1",children:[e.jsx("h1",{className:"text-lg font-bold",children:(m=(d=s==null?void 0:s.data)==null?void 0:d.userDetails)==null?void 0:m.gymName}),e.jsx("p",{className:"text-sm opacity-90",children:"Payment Receipt"})]})]}),e.jsxs("div",{className:"flex justify-between gap-2 p-2 border-b",children:[e.jsx("h1",{className:"text-sm font-semibold w-44 truncate text-gray-600",children:(x=(c=(r=s==null?void 0:s.data)==null?void 0:r.data)==null?void 0:c.memberId)==null?void 0:x.memberName}),e.jsx("div",{className:"flex items-center gap-1 text-sm",children:e.jsx("span",{className:"font-semibold text-gray-600",children:(j=(h=(o=s==null?void 0:s.data)==null?void 0:o.data)==null?void 0:h.memberId)==null?void 0:j.generatedId})})]}),e.jsx("div",{}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Receipt No"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:(g=(y=s==null?void 0:s.data)==null?void 0:y.data)==null?void 0:g.receiptNo})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-600",children:"Date"}),e.jsx("p",{className:"font-semibold text-gray-600",children:l(String((p=(N=s==null?void 0:s.data)==null?void 0:N.data)==null?void 0:p.receiptDate))})]})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Mobile No."}),e.jsx("p",{className:"font-semibold text-gray-600",children:(b=(f=(u=s==null?void 0:s.data)==null?void 0:u.data)==null?void 0:f.memberId)==null?void 0:b.mobile})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold ",children:"Paid"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-600",children:"Subscription Details"}),e.jsx("div",{className:"space-y-3",children:(P=(w=(v=s==null?void 0:s.data)==null?void 0:v.data)==null?void 0:w.subscriptionId)==null?void 0:P.map(t=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-1",children:"Plan"}),e.jsx("p",{className:"font-semibold text-xs text-gray-600",children:"Paid Amount"}),e.jsx("p",{className:"font-semibold text-xs text-gray-600",children:"Due Amount"}),e.jsx("p",{className:"font-semibold text-xs",children:"Total Amount"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.month," Month"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-1 text-gray-600",children:t.planName}),e.jsxs("p",{className:"font-semibold text-xs text-gray-600",children:["₹",t.paidAmount]}),e.jsxs("p",{className:"font-semibold text-xs text-gray-600",children:["₹",t.dueAmount]}),e.jsxs("p",{className:"font-semibold text-xs text-gray-600",children:["₹",t.amount]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(X,{className:"h-3 w-3"}),e.jsxs("span",{children:[l(t.startDate)," - ",l(t.endDate)]})]})]},t.subscriptionId))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-600",children:"Payment Summary"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Amount Due"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["₹",(I=(A=s==null?void 0:s.data)==null?void 0:A.data)==null?void 0:I.totalDueAmount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Amount Paid"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["₹",(R=(C=s==null?void 0:s.data)==null?void 0:C.data)==null?void 0:R.totalPaidAmount]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between text-gray-600",children:[e.jsx("p",{className:"font-semibold",children:"Total Amount"}),e.jsxs("p",{className:"font-semibold",children:["₹",((L=(S=s==null?void 0:s.data)==null?void 0:S.data)==null?void 0:L.totalDueAmount)+((T=(M=s==null?void 0:s.data)==null?void 0:M.data)==null?void 0:T.totalPaidAmount)]})]})]})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 space-y-1 pt-4 border-t",children:[e.jsxs("p",{children:["Member ID: ",(z=(H=(k=s==null?void 0:s.data)==null?void 0:k.data)==null?void 0:H.memberId)==null?void 0:z.generatedId]}),e.jsxs("p",{className:"font-medium",children:["Thank you for choosing ",($=(B=s==null?void 0:s.data)==null?void 0:B.userDetails)==null?void 0:$.gymName]})]})]})]})}),e.jsxs("div",{className:"flex justify-end gap-2 p-2 border-b",children:[e.jsx(U,{variant:"ghost",size:"sm",className:"text-blue-600",onClick:()=>{navigator.share&&navigator.share({title:"Payment Receipt",text:"Here is your payment receipt",url:`/gym-app/guest-payment-receipt/${a}`}).then(()=>{}).catch(t=>{})},children:e.jsx(Y,{className:"h-4 w-4"})}),e.jsx(U,{variant:"ghost",size:"sm",className:"text-blue-600",onClick:()=>F(),children:e.jsx(Z,{className:"h-4 w-4"})})]})]})};export{ie as default};
