import{j as e,g as y}from"./index-5LZ_nlU9.js";import{u as A,r,L as R}from"./router-Bu5b4_LN.js";import{C as D}from"./card-CYCGUlpe.js";import{a as S,P as $}from"./index-4gDiAr6t.js";import{L as M,P as Y}from"./index-D1VwjDLs.js";import{S as k}from"./index-yhKCZPmb.js";import{h as w}from"./moment-BjLXg0w5.js";import"./axios-DmypytPv.js";import"./chevron-right-Bk5KSvyP.js";import"./select-UqvSj_yK.js";import"./input-5M_0HrzI.js";function J(){var c,d,n,l,x,h,g,p,f,j,u;const b=A(),P=new URLSearchParams(b.search).get("member-id")??"",[o,N]=r.useState(""),[a,m]=r.useState(1),[i,v]=r.useState(5),t=S({api:`${y.getAllReceipt}?page=${a}&limit=${i}&q=${o}&memberid=${P}`,key:"getAllReceipt",value:[a,i],options:{enabled:!0}});return e.jsxs($,{title:"Receipt List",children:[e.jsx("div",{className:"mt-3 mb-1",children:e.jsx(k,{search:o,setSearch:N,refetch:t.refetch,isFetching:t.isLoading,setPage:m})}),e.jsxs(M,{dataLength:((n=(d=(c=t.data)==null?void 0:c.data)==null?void 0:d.docs)==null?void 0:n.length)??0,isLoading:t.isFetching,children:[e.jsx("div",{className:"flex items-center justify-between mt-4",children:e.jsxs("h1",{className:"text-sm font-semibold text-muted-foreground",children:["Total Receipt (",((x=(l=t.data)==null?void 0:l.data)==null?void 0:x.totalDocs)??0,")"]})}),e.jsx("div",{className:"grid grid-cols-1 gap-0 mt-2",children:(g=(h=t.data)==null?void 0:h.data)==null?void 0:g.docs.map((s,L)=>e.jsxs("div",{children:[e.jsx(R,{to:`/gym-app/payment-receipt/${s._id}`,children:e.jsx(D,{className:" p-4 shadow-none bg-secondary",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold text-muted-foreground",children:"Receipt no"}),e.jsx("h1",{className:"text-sm font-semibold",children:s==null?void 0:s.receiptNo})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold text-muted-foreground",children:"Member ID"}),e.jsx("h1",{className:"text-sm font-semibold",children:s==null?void 0:s.member.generatedId})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold text-muted-foreground",children:"Payment Date"}),e.jsx("h1",{className:"text-sm font-semibold",children:w(s==null?void 0:s.createdAt).format("DD-MM-YYYY")})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold text-muted-foreground",children:"Paid Amount"}),e.jsxs("h1",{className:"text-sm font-semibold",children:["â‚¹ ",s.totalPaidAmount]})]})]})})}),e.jsx("div",{className:"border-t border-secondary mt-2 mb-2"})]},L+1))}),e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx(Y,{page:a,perPage:i,totalPage:(p=t.data)==null?void 0:p.data.totalDocs,hasNextPage:(j=(f=t.data)==null?void 0:f.data)==null?void 0:j.hasNextPage,hasPrevPage:(u=t.data)==null?void 0:u.data.hasPrevPage,setPage:m,setPerPage:v})})]})]})}export{J as default};
