import{j as e,G as i,A as z,d as $,e as D,g as P,_ as o}from"./index-BE89nixM.js";import{u as T,d as E,r as a}from"./router-Bu5b4_LN.js";import{C as _}from"./card-R0sOB5BS.js";import{b as I,a as M,P as F}from"./index-BVfPZKZt.js";import{L as U,P as B}from"./index-C9r23qSa.js";import{S as R}from"./index-boZnF7Vy.js";import{T as V,a as q,b as G}from"./tabs-D-4SU7ud.js";import{C as H}from"./index-Cpe6fNuH.js";import{O as J,P as L}from"./OverLayLoader-D1aGgWq2.js";import{P as K}from"./pencil-VEkQ3rUP.js";import{E as Q}from"./eye-BPmj-NXL.js";import{T as W}from"./trash-D3sEmaZr.js";import"./axios-DmypytPv.js";import"./chevron-right-CkmlRh_L.js";import"./select-CY_bptuO.js";import"./input-Buc2qKHC.js";function ue(){var j,f,g,p,b,N,w,v,y;const A=T(),C=new URLSearchParams(A.search).get("member-status"),l=E(),[n,m]=a.useState(1),[c,x]=a.useState(20),[d,S]=a.useState(""),[h,O]=a.useState(C??""),u=I({}),r=M({api:`${P.getAllOwners}?page=${n}&limit=${c}&q=${d}`,key:"getAllOwners",value:[n,c],options:{enabled:!0}}),k=async s=>{H("Are you sure?","Do you want to delete this owner?",async()=>{try{const t=await u.mutateAsync({api:`${P.deleteMember}/${s}`,key:"deleteOwner",value:s});t.data.success?(o.success(t.data.message),r.refetch()):o.error(t.data.message)}catch{o.error("Something went wrong")}})};return e.jsxs(F,{title:"Owner List",children:[u.isPending&&e.jsx(J,{}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("h1",{className:"text-base font-semibold text-muted-foreground",children:["Owner List(",(j=r.data)==null?void 0:j.data.totalDocs,")"]}),e.jsxs(i,{size:"sm",className:"bg-primary text-white",onClick:()=>l("/gym-app/add-owner"),children:[e.jsx(L,{size:20}),e.jsx("h1",{className:"ms-1 text-xs",children:"Add Owner"})]})]}),e.jsx("div",{className:"border-t border-secondary mt-3 mb-2"}),e.jsx(R,{search:d,setSearch:S,refetch:r.refetch,isFetching:r.isLoading,setPage:m}),e.jsx("div",{className:"mt-4 overflow-x-hidden",children:e.jsx(V,{defaultValue:h==""?"2":h,className:"w-full",children:e.jsx(q,{className:"w-full",children:e.jsx(G,{className:"w-full",value:"2",onClick:()=>{O(""),x(5),m(1)},children:"All Owner"})})})}),e.jsx("div",{className:"border-t border-secondary mt-1 mb-1"}),e.jsxs(U,{dataLength:(g=(f=r.data)==null?void 0:f.data)==null?void 0:g.owners.length,isLoading:r.isFetching,children:[e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-2",children:(b=(p=r.data)==null?void 0:p.data)==null?void 0:b.owners.map((s,t)=>e.jsxs(_,{children:[e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center  ",children:[e.jsxs(z,{className:"w-14 h-14 border  dark:border-gray-700",children:[e.jsx($,{src:s==null?void 0:s.fullImgUrl,alt:"@shadcn"}),e.jsx(D,{className:"text-base text-primary",children:s==null?void 0:s.fullName.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"ml-1",children:[e.jsxs("div",{className:"text-primary font-semibold text-sm flex gap-2",children:[e.jsxs("h1",{children:[" ",s==null?void 0:s.fullName]}),e.jsx("h1",{className:"mt-1.5",children:(s==null?void 0:s.status)==1?e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}):e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"})})]}),e.jsx("div",{className:"text-primary font-bold ",children:e.jsx("h1",{className:"text-muted-foreground text-xs",children:s==null?void 0:s.mobile})})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-primary font-semibold text-sm",children:s==null?void 0:s.generatedId}),e.jsx("small",{className:"text-muted-foreground font-bold text-xs",children:"Member ID"})]})]})}),e.jsx("div",{className:"px-4 mb-4 gap-2",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{children:e.jsx("h1",{className:"text-primary font-semibold text-xs truncate w-44",children:s==null?void 0:s.email})})})}),e.jsxs("div",{className:"flex items-center justify-between px-4 mb-4 gap-3",children:[e.jsxs(i,{size:"sm",variant:"outline",className:"text-secondary-foreground border-secondary-foreground w-full h-6 ",onClick:()=>l(`/gym-app/update-owner/${s._id}`),children:[e.jsx(K,{size:16}),e.jsx("h1",{className:"ms-1 text-xs",children:"Edit"})]}),e.jsxs(i,{variant:"outline",size:"sm",className:"text-primary w-full h-6 ",onClick:()=>l(`/gym-app/view-member/${s._id}`),children:[e.jsx(Q,{size:16}),e.jsx("h1",{className:"ms-1 text-xs",children:"View"})]}),e.jsxs(i,{size:"sm",variant:"outline",className:(s==null?void 0:s.status)==1?" text-red-700 border-red-700 w-full h-6":" text-green-700 border-green-700 w-full h-6",onClick:()=>k(s._id),children:[(s==null?void 0:s.status)==1?e.jsx(W,{size:16}):e.jsx(L,{size:16}),e.jsx("h1",{className:"ms-1 text-xs",children:(s==null?void 0:s.status)==1?"Delete":"Activate"})]})]})]},t+1))}),e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx(B,{page:n,perPage:c,totalPage:(N=r.data)==null?void 0:N.data.totalDocs,hasNextPage:(v=(w=r.data)==null?void 0:w.data)==null?void 0:v.hasNextPage,hasPrevPage:(y=r.data)==null?void 0:y.data.hasPrevPage,setPage:m,setPerPage:x})})]})]})}export{ue as default};
