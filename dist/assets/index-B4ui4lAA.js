import{j as e,S as L,B as q,D as G,A as R,d as T,_ as l,g as j}from"./index-DkZWIdXg.js";import{L as y,d as z,r as o}from"./router-Bu5b4_LN.js";import{u as B,F as D}from"./FileUpload-YQfoUfq_.js";import{o as I}from"./yup-DLhudBoB.js";import{F as W,R as d,c as $,a as n,b as U,e as V}from"./RHFTextField-sohbxKOu.js";import{u as w}from"./useCustomQuery-BHfm9GW-.js";import{R as H}from"./RHFTextArea-D2FIM7MQ.js";import{B as N}from"./ButtonLoading-p7T3Si2p.js";import"./input-BVNq6uLW.js";import{C as J}from"./index-DoXwFtOr.js";import{r as Y}from"./resizeImage-nNayW6hE.js";import"./axios-DmypytPv.js";import"./select-DBN7CKYv.js";function _({children:h,open:c,setOpen:u,title:p,setEdit:g,isLoading:m}){const b=()=>{g(!1),u(f=>!f)};return e.jsxs("div",{children:[c&&e.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900/50 dark:bg-gray-900/80"}),e.jsx("div",{id:"authentication-modal",tabIndex:-1,className:`${c?"flex":"hidden"} fixed left-0 right-0 top-0 z-50 h-[calc(100%-1rem)] max-h-full w-full items-center justify-center overflow-y-auto overflow-x-hidden md:inset-0`,children:e.jsx("div",{className:"relative max-h-full w-full max-w-md p-4",children:e.jsxs("div",{className:"relative rounded-lg bg-white shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-t border-b p-4 dark:border-gray-600 md:p-5",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:p??"Add/Edit"}),e.jsxs("button",{onClick:b,type:"button",className:"end-2.5 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[e.jsx("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"p-4 md:p-5",children:m?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(L,{})}):h})]})})})]})}function K(){return e.jsxs("div",{className:"",children:[e.jsx("main",{className:"flex-1",children:e.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 bg-primary text-primary-foreground",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tighter sm:text-5xl",children:"Ready to Transform Your Gym Management?"}),e.jsx("p",{className:"mx-auto max-w-[600px] text-primary-foreground/90 md:text-xl",children:"Join GymSphere today and experience the difference efficient admin tools can make for your business."})]}),e.jsx(q,{className:"bg-white text-primary hover:bg-gray-100",children:"Start Your Free Trial"})]})})})}),e.jsx("footer",{className:"w-full py-6 bg-gray-100 dark:bg-gray-800",children:e.jsx("div",{className:"container px-4 md:px-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 md:flex-row",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-6 w-6"}),e.jsx("span",{className:"font-bold",children:"GymSphere"})]}),e.jsx("p",{className:"text-center text-sm leading-loose text-gray-600 dark:text-gray-400 md:text-left",children:"Â© 2025GymSphere. All rights reserved."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(y,{className:"text-sm hover:underline underline-offset-4",to:"#",children:"Privacy Policy"}),e.jsx(y,{className:"text-sm hover:underline underline-offset-4",to:"#",children:"Terms of Service"})]})]})})})]})}function Q(){return e.jsx("div",{className:"",children:e.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex h-14 items-center",children:[e.jsx(R,{className:"w-12 h-12 border  dark:border-gray-700",children:e.jsx(T,{src:"/Gym.png",alt:"@shadcn"})}),e.jsx("span",{className:"font-bold ml-2",children:"GymSphere"}),e.jsx("nav",{className:"ml-auto flex gap-4 sm:gap-6",children:e.jsx(y,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/gym-app/registration-form",children:"APK"})})]})})})}const X=$().shape({fullName:n().required("Name is required"),gymName:n().required("Gym Name is required"),address:n().required("Address is required"),mobile:n().required("Mobile is required"),password:n().required("Password is required"),cPassword:n().oneOf([U("password")],"Passwords must match").required("Enter Confirm Password"),email:n().required().email().label("Email"),imageUrl:V().nullable()});function xe(){const h=z(),c=w({}),u=w({}),p=w({}),[g,m]=o.useState(!1),[b,f]=o.useState(!1),[v,k]=o.useState(""),[i,O]=o.useState(null),[E,P]=o.useState(null),t=B({defaultValues:{fullName:"",password:"",address:"",mobile:"",gymName:"",email:"",imageUrl:null},resolver:I(X)}),S=async()=>{J("Are you sure?","Do you want to add this Owner?",async()=>{F()})},C=async()=>{var r;if(((r=i==null?void 0:i[0])==null?void 0:r.size)>20*1024*1024)return l.error("File size is too large");const s=i==null?void 0:i[0];if(!s)return;const a=await Y(s),x=new File([a],s==null?void 0:s.name,{type:s==null?void 0:s.type});P(x)};o.useEffect(()=>{i&&C()},[i]);const F=async()=>{var s;try{const a=await u.mutateAsync({api:j.sendOtp,data:{email:t.watch("email")}});(s=a==null?void 0:a.data)!=null&&s.success?(l.success("OTP sent to your email"),m(!0)):l.error("Error sending OTP")}catch{}},M=async()=>{var s,a,x;try{const r=await p.mutateAsync({api:j.verifyEmailOtp,data:{otp:v,email:t.watch("email")}});(s=r==null?void 0:r.data)!=null&&s.success?(l.success((a=r==null?void 0:r.data)==null?void 0:a.message),m(!1),A()):l.error((x=r==null?void 0:r.data)==null?void 0:x.message)}catch{}},A=async()=>{const s=new FormData;s.append("fullName",t.watch("fullName")),s.append("gymName",t.watch("gymName")),s.append("password",t.watch("password")),s.append("address",t.watch("address")),s.append("mobile",t.watch("mobile")),s.append("email",t.watch("email")??""),s.append("imageUrl",E);try{const a=await c.mutateAsync({api:j.createOwner,data:s});a.data.success?(l.success(a.data.message),h("/gym-app/auth/login")):l.error(a.data.message)}catch{l.error("Something went wrong")}};return e.jsxs(e.Fragment,{children:[e.jsx(_,{open:g,setOpen:m,title:"OTP Send to your Registered Email",setEdit:f,children:e.jsxs("div",{style:{zIndex:1e5},className:"",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"After verifying the OTP, you can proceed with the registration."}),e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Enter OTP"}),e.jsxs("form",{onSubmit:s=>s.preventDefault(),children:[e.jsx("input",{value:v,onChange:s=>k(s.target.value),type:"text",placeholder:"Enter OTP",className:"input-field w-full border border-gray-300 rounded-md p-2"}),e.jsx("div",{children:e.jsx(N,{type:"button",onClick:M,className:"w-full rounded-xl py-5 px-4 mt-2 shadow-none",variant:"outline",children:"Verify & Register"})})]})]})}),e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx("div",{className:"sticky top-0 z-50",children:e.jsx(Q,{})}),e.jsxs("div",{className:"flex-grow bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("div",{className:"flex items-center justify-center p-4 md:p-8",children:e.jsxs("div",{className:"w-full max-w-4xl rounded-2xl overflow-hidden shadow-xl flex flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-3/5 bg-white p-6 md:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-indigo-600",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Gym Registration"})]}),e.jsxs(W,{methods:t,onSubmit:t.handleSubmit(S),children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(d,{name:"fullName",label:"Owner Name",placeholder:"Enter Owner Name"})}),e.jsx("div",{children:e.jsx(d,{name:"email",label:"Email",placeholder:"Enter Email"})}),e.jsx("div",{children:e.jsx(d,{name:"mobile",label:"Mobile",placeholder:"Enter Mobile",inputValidation:["mobile","number"]})}),e.jsx("div",{children:e.jsx(d,{name:"gymName",label:"Gym Name",placeholder:"Enter Gym Name"})}),e.jsx("div",{children:e.jsx(d,{name:"password",label:"Password",placeholder:"Enter Password"})}),e.jsx("div",{children:e.jsx(d,{name:"cPassword",label:"Confirm Password",placeholder:"Enter Confirm Password"})}),e.jsx("div",{className:"col-span-full",children:e.jsx(D,{onChangeValue:O,files:i,maxFiles:1,maxSize:20*1024*1024,accept:"image/*",multiple:!1})}),e.jsx("div",{className:"col-span-full",children:e.jsx(H,{name:"address",label:"Address",placeholder:"Enter Address"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(N,{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",isLoading:c.isPending,children:"Complete Registration"})})]})]}),e.jsxs("div",{className:"w-full md:w-2/5 bg-indigo-600 relative hidden md:block",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70",style:{backgroundImage:"url('/bgImg.jpg')"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-700/40 to-indigo-900/80"}),e.jsxs("div",{className:"relative h-full flex flex-col justify-center p-8 text-white z-10",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join Our Fitness Community"}),e.jsx("p",{className:"text-indigo-100 mb-6",children:"Register your gym today and gain access to our state-of-the-art management platform designed specifically for fitness professionals."}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-indigo-300",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Member management made easy"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-indigo-300",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Schedule and track classes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-indigo-300",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Grow your business with insights"})]})]})]})]})}),e.jsx(K,{})]})]})]})}export{xe as default};
